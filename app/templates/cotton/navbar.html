{% load global_extras %}
<div class="navbar bg-base-100 shadow-sm h-12 min-h-12 px-4 border-b-2 border-primary">
	<div class="navbar-start gap-1">
		<a href="/" class="font-semibold text-lg inline-flex items-center gap-1">
			<svg class="h-7 w-7" viewBox="-3.84 0 50.111 50.111" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
				<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
				<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
				<g id="SVGRepo_iconCarrier">
					<g id="Group_1641" data-name="Group 1641" transform="translate(3428.416 -2050.811)">
						<path id="Path_3451" data-name="Path 3451" d="M-3397.12,2073.659c0,12.088-4.986,21.888-11.136,21.888s-11.136-9.8-11.136-21.888,4.986-21.888,11.136-21.888,11.136,9.8,11.136,21.888" fill="#ffffff" fill-rule="evenodd"></path>
						<path id="Path_3452" data-name="Path 3452" d="M-3394.048,2076.731c0,12.088-4.986,21.888-11.136,21.888s-11.136-9.8-11.136-21.888,4.986-21.888,11.136-21.888,11.136,9.8,11.136,21.888" fill="#efeb44" fill-rule="evenodd"></path>
						<path id="Path_3453" data-name="Path 3453" d="M-3408.256,2052.731c-5.516,0-10.176,9.584-10.176,20.928s4.66,20.928,10.176,20.928,10.176-9.584,10.176-20.928S-3402.74,2052.731-3408.256,2052.731Zm0,43.776c-6.783,0-12.1-10.037-12.1-22.848s5.313-22.848,12.1-22.848,12.1,10.036,12.1,22.848-5.313,22.848-12.1,22.848" fill="#6f0911" fill-rule="evenodd"></path>
						<path id="Path_3454" data-name="Path 3454" d="M-3412.416,2097.761c-12.811-2.528-7.088-17.365-15.04-22.159,16.779,0,21.3,10.75,20.684,17.853a4.783,4.783,0,0,1-5.644,4.306" fill="#ffffff" fill-rule="evenodd"></path>
						<path id="Path_3455" data-name="Path 3455" d="M-3404.1,2097.761c12.811-2.528,7.088-17.365,15.04-22.159-16.779,0-21.3,10.75-20.684,17.853a4.783,4.783,0,0,0,5.644,4.306" fill="#ffffff" fill-rule="evenodd"></path>
						<path id="Path_3456" data-name="Path 3456" d="M-3408.384,2100.833c-12.811-2.528-7.088-17.365-15.04-22.159,16.779,0,21.3,10.75,20.684,17.853a4.783,4.783,0,0,1-5.644,4.306" fill="#5db67d" fill-rule="evenodd"></path>
						<path id="Path_3457" data-name="Path 3457" d="M-3401.024,2100.833c12.811-2.528,7.088-17.365,15.04-22.159-16.779,0-21.3,10.75-20.684,17.853a4.783,4.783,0,0,0,5.644,4.306" fill="#5db67d" fill-rule="evenodd"></path>
						<path id="Path_3458" data-name="Path 3458" d="M-3411.712,2076.283a.96.96,0,0,1-.96-.96,104.137,104.137,0,0,1,.709-12.11.964.964,0,0,1,1.092-.808.959.959,0,0,1,.807,1.091,101.7,101.7,0,0,0-.688,11.827.96.96,0,0,1-.96.96" fill="#6f0911" fill-rule="evenodd"></path>
						<path id="Path_3459" data-name="Path 3459" d="M-3409.876,2059.42a.944.944,0,0,1-.256-.035.96.96,0,0,1-.67-1.181c.1-.383.215-.753.326-1.11a.961.961,0,0,1,1.205-.627.96.96,0,0,1,.627,1.205c-.106.334-.207.682-.307,1.044a.963.963,0,0,1-.925.7" fill="#6f0911" fill-rule="evenodd"></path>
						<path id="Path_3460" data-name="Path 3460" d="M-3409.7,2073.065a10.35,10.35,0,0,1-5.167-1.417.959.959,0,0,1-.358-1.309.957.957,0,0,1,1.309-.359,7.8,7.8,0,0,0,6.883.671.961.961,0,0,1,1.275.457.958.958,0,0,1-.449,1.275,8.633,8.633,0,0,1-3.493.682" fill="#6f0911" fill-rule="evenodd"></path>
						<path id="Path_3461" data-name="Path 3461" d="M-3424.742,2076.667c1.987,2.34,2.724,5.531,3.442,8.641,1.209,5.238,2.352,10.185,9.071,11.511h0a3.7,3.7,0,0,0,2.969-.689,3.869,3.869,0,0,0,1.531-2.757,14.784,14.784,0,0,0-3.773-11.086C-3414.48,2079.04-3419.023,2077.12-3424.742,2076.667Zm13.221,22.142a5.561,5.561,0,0,1-1.081-.106h0c-7.938-1.566-9.335-7.621-10.568-12.963-.889-3.843-1.726-7.474-4.782-9.317a.958.958,0,0,1-.429-1.078.959.959,0,0,1,.925-.7c7.555,0,13.561,2.194,17.37,6.348a16.728,16.728,0,0,1,4.269,12.548,5.791,5.791,0,0,1-2.289,4.127,5.688,5.688,0,0,1-3.415,1.143" fill="#6f0911" fill-rule="evenodd"></path>
						<path id="Path_3462" data-name="Path 3462" d="M-3404.992,2098.809a5.689,5.689,0,0,1-3.42-1.148.961.961,0,0,1-.187-1.345.961.961,0,0,1,1.345-.188,3.7,3.7,0,0,0,2.971.692c6.719-1.327,7.862-6.274,9.071-11.512.718-3.112,1.456-6.305,3.447-8.647-9.272.706-13.485,5.026-15.4,8.7a.961.961,0,0,1-1.294.407.959.959,0,0,1-.408-1.294c1.911-3.672,7.027-9.832,19.809-9.832a.959.959,0,0,1,.925.7.958.958,0,0,1-.429,1.078c-3.056,1.843-3.893,5.474-4.782,9.317-1.233,5.342-2.63,11.4-10.568,12.963a5.58,5.58,0,0,1-1.082.106" fill="#6f0911" fill-rule="evenodd"></path>
					</g>
				</g>
			</svg>
			FarmEasy
		</a>
	</div>
	<div class="navbar-center hidden md:flex">
		<form action="/search" method="get">
			<label class="input w-96 focus:outline-none focus-within:outline-none">
				<svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
					<g stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" fill="none" stroke="currentColor">
						<circle cx="11" cy="11" r="8"></circle>
						<path d="m21 21-4.3-4.3"></path>
					</g>
				</svg>
				<input type="search" name="q" required placeholder="Search" value="{{ request.GET.q }}" class="focus:outline-none focus-within:outline-none" />
			</label>
		</form>
	</div>
	<div class="navbar-end gap-1">
		{% if user.is_authenticated %}
		<div class="dropdown dropdown-end">
			<div tabindex="0" role="button" class="btn btn-ghost btn-circle h-10 min-h-10 w-10">
				<svg class="h-9 w-9" fill="currentColor" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg">
					<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
					<g id="SVGRepo_iconCarrier"><path d="M 27.9999 51.9062 C 41.0546 51.9062 51.9063 41.0547 51.9063 28.0000 C 51.9063 14.9219 41.0312 4.0938 27.9765 4.0938 C 14.8983 4.0938 4.0937 14.9219 4.0937 28.0000 C 4.0937 41.0547 14.9218 51.9062 27.9999 51.9062 Z M 17.4765 36.0860 C 16.2577 36.0860 15.5546 35.4766 15.5546 34.5391 C 15.5546 33.2031 16.8905 32.0547 18.0390 30.8594 C 18.9062 29.8984 19.1171 28.0000 19.2109 26.4531 C 19.3280 21.4140 20.6874 17.9453 24.1796 16.6797 C 24.6952 14.9687 26.0780 13.6094 27.9999 13.6094 C 29.9218 13.6094 31.2812 14.9687 31.8202 16.6797 C 35.2890 17.9453 36.6718 21.4140 36.7655 26.4531 C 36.8593 28.0000 37.0468 29.8984 37.9609 30.8594 C 39.1093 32.0313 40.4452 33.2031 40.4452 34.5391 C 40.4452 35.4766 39.7187 36.0860 38.5234 36.0860 Z M 27.9999 41.5 C 25.7499 41.5 24.1327 39.9062 23.9687 37.9844 L 32.0312 37.9844 C 31.8671 39.9062 30.2265 41.5 27.9999 41.5 Z"></path></g>
				</svg>
			</div>
			<ul tabindex="0" class="menu dropdown-content bg-base-200 rounded-box z-1 mt-4 w-52 p-2 shadow">
				{% for notif in user.notifications.all %}
				<li>
					<a href="{{ notif.link_to }}"> {{ notif.message }} </a>
				</li>
				{% empty %}
				<li class="p-0">
                    <div class="flex items-center justify-center gap-2">
                        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 17V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path> <circle cx="1" cy="1" r="1" transform="matrix(1 0 0 -1 11 9)" fill="currentColor"></circle> <path d="M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path> </g></svg>
                        No notifications
                    </div>
                </li>
				{% endfor %}
			</ul>
		</div>
		<label for="cart-drawer" class="btn btn-ghost btn-circle h-10 min-h-10 w-10">
			<svg class="h-9 w-9" fill="currentColor" viewBox="-1 0 19 19" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg">
				<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
				<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
				<g id="SVGRepo_iconCarrier"><path d="M16.417 9.579A7.917 7.917 0 1 1 8.5 1.662a7.917 7.917 0 0 1 7.917 7.917zm-3.34-2.323a.63.63 0 0 0-.628-.628H5.892l-.436-1a.384.384 0 0 0-.351-.23H3.68a.384.384 0 1 0 0 .768h1.173l1.785 4.096a.37.37 0 0 0-.087-.01 1.161 1.161 0 1 0 0 2.322h.042a.792.792 0 1 0 .864 0h3.452a.792.792 0 1 0 .864 0h.565a.384.384 0 1 0 0-.767H6.55a.393.393 0 0 1 0-.787.38.38 0 0 0 .098-.013l5.803-.602a.714.714 0 0 0 .625-.694z"></path></g>
			</svg>
		</label>
		<div class="dropdown dropdown-end">
			<div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar h-10 min-h-10 w-10">
				<svg class="w-9 h-9" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
					<g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM15 9C15 10.6569 13.6569 12 12 12C10.3431 12 9 10.6569 9 9C9 7.34315 10.3431 6 12 6C13.6569 6 15 7.34315 15 9ZM12 20.5C13.784 20.5 15.4397 19.9504 16.8069 19.0112C17.4108 18.5964 17.6688 17.8062 17.3178 17.1632C16.59 15.8303 15.0902 15 11.9999 15C8.90969 15 7.40997 15.8302 6.68214 17.1632C6.33105 17.8062 6.5891 18.5963 7.19296 19.0111C8.56018 19.9503 10.2159 20.5 12 20.5Z" fill="currentColor"></path></g>
				</svg>
			</div>
			<ul tabindex="0" class="menu dropdown-content bg-base-200 rounded-box z-1 mt-4 w-52 p-2 shadow gap-1">
				<li><a href="{% url 'profile' %}" class="menu-{% is_url_active 'profile' %}">Profile</a></li>
				<li><a href="{% url 'orders' %}" class="menu-{% is_url_active 'orders' %}">Orders</a></li>
				{% if user.is_farmer %}
				<li><a href="{% url 'inventory' %}" class="menu-{% is_url_active 'inventory' %}">Inventory</a></li>
				<li><a href="{% url 'farmer_dashboard' %}" class="menu-{% is_url_active 'farmer_dashboard' %}">Farmer Dashboard</a></li>
				{% endif %} {% if user.is_moderator %}
				<li><a href="{% url 'moderator' %}" class="menu-{% is_url_active 'moderator' %}">Moderator Dashboard</a></li>
				{% endif %} {% if user.is_staff %}
				<li><a href="{% url 'admin:index' %}">Admin Panel</a></li>
				{% endif %}
				<div class="divider divider-primary m-0"></div>
				<li><a href="{% url 'logout' %}">Logout</a></li>
			</ul>
		</div>
		{% else %}
		<a href="{% url 'login' %}" class="btn btn-primary btn-sm">Login</a>
		{% endif %}
	</div>
</div>
